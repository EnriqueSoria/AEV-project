
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="imgs/favicon.png">

        <title>Nuestro juego</title>

        <!-- Bootstrap -->
        <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/bootstrap-theme.css" rel="stylesheet">
        <script src="js/bootstrap.min.js"></script>
        <script src="js/jquery-2.1.3.min.js"></script>

        <!-- Font-Awesome -->
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <!-- Slider
             https://github.com/codrops/Blueprint-FullWidthImageSlider
        -->
        <link rel="stylesheet" type="text/css" href="css/component.css" />
        <script src="js/modernizr.custom.js"></script>
        
        <!-- Google fonts -->
        <link href='http://fonts.googleapis.com/css?family=Raleway:100' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Anonymous+Pro' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
        <style>
        body {
            font-family: 'Open Sans', sans-serif;
        }
        a, p {
            font-size: 120%;
        }
        a, p, h1, h2, h3, h4, h5 {
            font-weight: lighter;
        }
        code {
            font-family: 'Anonymous Pro', serif;
        }
        </style>
        
        <!-- Unused fonts
        <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:300&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
        -->
        
        <!-- highlight.js -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
        

    </head>
    
        <body>
        <!-- Fixed navbar -->
        <nav class="navbar navbar-default navbar-fixed-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="./index.html">Chrome says</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">

              <!-- A la esquerra -->
              <ul class="nav navbar-nav">
                <li><a href="./index.html">Inicio</a></li>
                <li><a href="./blog.html">Practiques</a></li>
                <li><a href="./memoria.html">Memòria</a></li>
                <li><a href="./galeria.html">Capturas</a></li>
                <li><a href="./about.html">Acerca de</a></li>
              </ul>
               
              <!-- A la dreta -->
              <ul class="nav navbar-nav navbar-right">
                <li><a href="https://github.com/EnriqueSoria/AEV-project/archive/master.zip"><i class="fa fa-download fa-lg"></i> Descargar</a></li>
                <li><a href="https://github.com/EnriqueSoria/AEV-project"><i class="fa fa-github fa-lg"></i> Ver en github</a></li>
              </ul>
            </div>

          </div>
        </nav>


        <div class="container" style="margin-top: 75px;">


            <div class="text-center bg-alert">
                <h1>Chrome says</h1>
                <p class="lead">El joc és l'adaptació del clàssic “Simon says” a la consola Nintendo DS. No obstant, i per tal de dotar al projecte d'una mica de personalitat pròpia, canviarem el clàssic disc de quatre colors pel logotip del navegador Google Chrome, emprant els seus quatre colors com a tecles del disc.
                </p>
                <p>
                    <a href="https://github.com/EnriqueSoria/AEV-project" class="btn btn-lg btn-info"><i class="fa fa-github fa-lg"></i>  Ver en Github</a>
                    <a href="https://github.com/EnriqueSoria/AEV-project/archive/master.zip" class="btn btn-lg btn-success btn-succes"><i class="fa fa-download fa-lg"></i>  Descargar</a>
                </p>
            </div>
            

            <br><hr><br>



<!-- Cuerpo -->
<div id="sidebar" class="row jumbotron">

    <!-- Indice -->
    <div class="col-md-8">
        
    <h1 class="text-muted" >Taula de continguts</h1>
    <ul>
        <li><h4><bold><a href='#practica-1:-preparacio-de-l'entorn'>Practica 1: Preparacio de l'entorn</a></bold><h3></li>

<li><h4><bold><a href='#practica-2:-bouncing-ball'>Practica 2: Bouncing ball</a></bold><h3></li>

<li><h4><bold><a href='#practica-3:-entrada-i-sortida-de-dades'>Practica 3: Entrada i sortida de dades</a></bold><h3></li>

<li><h4><bold><a href='#practica-4:-audio-amb-maxmod'>Practica 4: Audio amb Maxmod</a></bold><h3></li>


    </ul>

    </div>
</div>
<div class="row">
    <!-- Aquí empiezan los artículos -->
    <div class="col-md-12">
        
    <div id='practica-1:-preparacio-de-l'entorn' class='featurette data-sr'>
        <h1>Practica 1: Preparacio de l'entorn</h1>
<h2>Instal·lació de l'entorn</h2>
<p>Primer hem descarregat l'script de la pàgina web i l'hem executat, instal·lant així l'entorn. A més hem afegit les variables del sistema, i les hem fet permanents.</p>
<h3>Instruccions necessaries</h3>
<pre><code>wget -O devkit.pl http://downloads.sourceforge.net/project/devkitpro/Automated%20Installer/devkitARMupdate.pl?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fdevkitpro%2Ffiles%2FAutomated%2520Installer%2F&amp;ts=1425297393&amp;use_mirror=cznic
sudo perl devkit.pl
echo "export DEVKITPRO=~/devkitPro" &gt;&gt;  ~/.bashrc
echo "export DEVKITARM=${DEVKITPRO}/devkitARM" &gt;&gt;  ~/.bashrc
</code></pre>
<p><img class="img-responsive center-block" alt="Variables del sistema" src="imgs/1/var.png" /></p>
<h2>Compilació dels exemples</h2>
<p>Hem descarregat els exemples i hem vist que alguns que hi ha en la <a href="libdns.devkitpro.org/examples.html">pàgina web</a> no estan als exemples descarregats, com ara l'exemple capture.
Als exemples descarregats també hi han alguns que no estan a la web.</p>
<h2>Compilació dels exemples</h2>
<p>Anem a provar ara alguns dels exemples a ambdós emuladors per tal de comprovar les possibles diferències entre els mateixos, compilant-los amb l'ordre <code>make</code>.</p>
<h3>ds_motion</h3>
<p><img class="img-responsive center-block" alt="ds_motion" src="imgs/1/ds_motion.png" /></p>
<h3>hello_world</h3>
<p><img class="img-responsive center-block" alt="hello_world" src="imgs/1/hello_world.png" /></p>
<p>Tots els exemples que s'han provat a DesMuMe s'han executat sense cap tipus de problema, no obstant, <strong>alguns han fallat a l'emulador no$gba</strong>. Com ara, l'exemple <em>16bit_color_bmp.nds.</em></p>
<h2>Instal·lació a Windows</h2>
<p>Per a la instal·lació a una màquina amb sistema operatiu <strong>Windows 7</strong>, el procés ha sigut simple. Des de la mateixa pàgina web d'on hem baixat el devkitpro per a Linux, s'ha baixat l'arxiu .exe corresponent a la versió 1.5.4. Una vegada baixat, s'ha executat seguint els passos de l'assitent d'instal·lació sense cap tipus de problema.</p>
<p><img class="img-responsive center-block" alt="Asistent" src="imgs/1/asistent.png" /></p>
<p>Una vegada instal·lat, simplement cal anar a la carpeta corresponent <code>devkitpro\examples\nds</code> i compilar els exemples mitjançant l'ordre <code>make</code>.</p>
<p><img class="img-responsive center-block" alt="Compilació" src="imgs/1/compilacio.png" /></p>
    </div>
<br><hr><br>

    <div id='practica-2:-bouncing-ball' class='featurette data-sr'>
        <h1>Pràctica 2:  Accés a la informació en el hardware</h1>
<h2>0. Descàrregues</h2>
<ul>
<li><a href="https://github.com/EnriqueSoria/AEV-project/raw/gh-pages/raw/2/1.%20Exercici.zip">Exercici 1</a></li>
<li><a href="https://github.com/EnriqueSoria/AEV-project/raw/gh-pages/raw/2/2.%20Treball%20aut%C3%B2nom.zip">Treball autònom</a></li>
</ul>
<h2>1. Accés al sistema</h2>
<p>Per tal d'accedir a les dades del sistema, simplement hem tingut que incloure la capçalera
<code>system.h</code> de libnds, i després accedir a l'estructura PersonalData des d'on poden extraure el nom
d'usuari, aniversari, color del tema, etc. Després simplement hi ha que mostrar eixes dades en
pantalla.</p>
<p><img class="img-responsive center-block" alt="Imatge 1: Sortida del programa" src="imgs/2/1.png" /></p>
<h2>2. Funcions relacionades amb el pas del temps</h2>
<p>A aquest apartat ens donen tres funcions, de tres exemples, i ens pregunten sobre elles o els seus
arguments. Passem a veure les funcions i resoldre les preguntes pas a pas.</p>
<pre><code>timerStart(0, ClockDivider_1024, 0, NULL);
</code></pre>
<p>Aquesta funció inicialitza un temporitzador que cridarà al seu últim argument (en aquest cas no)
segons la freqüència que se li indique. El segon argument indica el canal del temporitzador, mentre que el tercer són el nombre de ticks que deuen passar fins que es produïsca l'overflow.</p>
<pre><code>timerStart(0, ClockDivider_1024,TIMER_FREQ_1024(5), timerCallBack);
</code></pre>
<p>En aquest cas la novetat són els dos últims arguments: el tercer indica que es cridarà al quart una vegada cada cinc segons. El quart, com ja hem dit, serà la funció a la que cridarà el timer, en aquest cas, cada cinc segons.</p>
<p>Per acabar se'ns pregunta sobre l'exemple RealTimeClock. En concret, quines són les funcions que es gasten per endevinar l'hora i la data.</p>
<p>Si mirem el codi, podem observar que aquestes són les línies concretes on s'extrau la informació del sistema:</p>
<pre><code>time_t unixTime = time(NULL);
struct tm* timeStruct = gmtime((const time_t *)&amp;unixTime);

hours = timeStruct-&gt;tm_hour;
minutes = timeStruct-&gt;tm_min;
seconds = timeStruct-&gt;tm_sec;

day = timeStruct-&gt;tm_mday;
month = timeStruct-&gt;mon;
year = timeStruct-&gt;tm_year+1900;
</code></pre>
<h2>3. Gestió de l'entrada d'usuari</h2>
<p>En aquest apartat se'ns demana executar cinc exemples, anem a mostrar captures dels mateixos i explicar la seua funcionalitat.</p>
<h3>keyboard_async</h3>
<p><img class="img-responsive center-block" alt="Imatge 2: Sortida keyboard_async" src="imgs/2/2.png" /></p>
<p>Aquest exemple no és més que un simple teclat sense cap tipus de funcionalitat llevat de poder escriure a la pròpia pantalla de la NDS.</p>
<h3>keyboard_stdin</h3>
<p><img class="img-responsive center-block" alt="Imatge 3: Sortida keyboard_stdin" src="imgs/2/3.png" /></p>
<p>Al contrari que l'exemple anterior, aquest és un programa que ens pregunta el nostre nom. Una vegada l'introduïm amb el teclat (el mateix que a l'exemple anterior) aquest desapareix i ens contesta <code>Hello (nom)</code>.</p>
<h3>touch_area</h3>
<p><img class="img-responsive center-block" alt="Imatge 4: Sortida touch_area" src="imgs/2/4.png" /></p>
<p>Aquest exemple ens diu el punt que hem tocat de la pantalla tàctil, així com la pressió i, depenent de l'àrea, ens diu si hem tocat la pantalla amb el dit o l'estilus (en aquest cas ratolí ja que és un emulador).</p>
<h3>touch_look</h3>
<p><img class="img-responsive center-block" alt="Imatge 5: Sortida touch_look" src="imgs/2/5.png" /></p>
<p>Ací estem a un entorn 3D pel qual podem rotar la càmera (però no desplaçar-la) tocant la pantalla inferior. Si llisquem cap a l'esquerra, la càmera gira cap a l'esquerra, etc. El moviment és completament lliure.</p>
<h3>touch_test</h3>
<p><img class="img-responsive center-block" alt="Imatge 6: Sortida touch_test" src="imgs/2/6.png" /></p>
<p>Per acabar, aquest últim exemple ens diu les coordenades on hem tocat la pantalla tàctil i, a més a més, deixa l'sprite d'un punt roig a eixes coordenades. És molt similar a l'exemple <code>touch_area</code> llevat del punt roig i que, aquest, no ens diu la pressió ni si hem tocat amb el dit o no.</p>
<h2>4. Treball autònom</h2>
<p>Com a treball autònom se'ns demana crear un programa on l'usuari puga triar quines dades emmagatzemades en la consola, vol visualitzar.
Adjuntem el codi font i l'arxiu Makefile amb aquest exercici resolt. Ací podem veure una captura del programa en execució.</p>
<p><img class="img-responsive center-block" alt="Imatge 7: Sortida del treball autònom" src="imgs/2/7.png" /></p>
    </div>
<br><hr><br>

    <div id='practica-3:-entrada-i-sortida-de-dades' class='featurette data-sr'>
        <h1>Pràctica 3: Entrada i sortida de dades</h1>
<h2>0. Descàrregues</h2>
<ul>
<li><a href="https://github.com/EnriqueSoria/AEV-project/blob/gh-pages/raw/3/3.%20Entrada%20i%20sortida%20de%20dades.pdf">Pràctica 3</a></li>
</ul>
<h2>1. Gestió dels controls</h2>
<p>En aquest primer exercici se'ns demana que desenvolupem un programa que ens comunique l'estat dels tretze botons de la consola (si estan premuts o no).</p>
<p>El funcionament de dit programa és simple, ja que tenim una funció <code>keysDown()</code> que ens indica si s'ha premut un botó. A partir d'ahí simplement cal mostrar per pantalla quins ho han fet, i quins no. Adjuntem el codi font junt a aquesta memòria a la carpeta ex1P3.</p>
<p><img class="img-responsive center-block" alt="Imatge 1: Sortida del programa ex1P3" src="imgs/3/1.png" /></p>
<h2>2. Ús avançat del text a la pantalla</h2>
<p>A aquest segon apartat ens donen cinc exemples que hem d'executar i observar per tal d'indicar el seu funcionament. Passem a mostrar a continuació les captures dels programes executant-se i les seues explicacions:</p>
<h3>custom_font</h3>
<p><img class="img-responsive center-block" alt="Imatge 2: Execució del programa custom_font" src="imgs/3/2.png" /></p>
<p>Aquest exemple només ens mostra una tipografia diferent a l'hora de mostrar text en pantalla. No podem interactuar en ell de cap manera, però està pensat per a poder observar el codi i així saber com incloure una nova tipografia.</p>
<h3>print_both_screens</h3>
<p><img class="img-responsive center-block" alt="Imatge 3: Execució del programa print_both_screens" src="imgs/3/3.png" /></p>
<p>L'única interacció d'aquest programa és que ens marca les coordenades del punt on hem tocat la pantalla tàctil. A la pantalla superior té un text fixe que no varia. La utilitat d'aquest programa és aprendre a escriure text a ambdues pantalles.</p>
<h3>rotation</h3>
<p><img class="img-responsive center-block" alt="Imatge 4: Execució del programa rotation" src="imgs/3/4.png" /></p>
<p>Mitjançant els botons, a aquest programa, podrem desplaçar i deformar la imatge de la pantalla superior.</p>
<h3>rotscale_text</h3>
<p><img class="img-responsive center-block" alt="Imatge 5: Execució del programa rotscale_text" src="imgs/3/5.png" /></p>
<h3>console_windows</h3>
<p><img class="img-responsive center-block" alt="Imatge 6: Execució del programa console_windows" src="imgs/3/6.png" /></p>
<p>Aquest simple programa divideix la pantalla tàctil en dos. Si toquem la part esquerra, ens mostra la coordenada Y a la part esquerra, si toquem la dreta, ens mostra la mateixa coordenada a la dreta.</p>
<h2>3. Sistema d'arxius</h2>
<p>Aquest últim exercici ens demana executar els dos exemples de sistemes d'arxius nitrofs i fat, i fer captures de l'execució dels mateixos.</p>
<p><img class="img-responsive center-block" alt="Imatge 7: Execució de l'exemple fat" src="imgs/3/7.png" /></p>
<p><img class="img-responsive center-block" alt="Imatge 8: Execució de l'exemple nitrofs" src="imgs/3/8.png" /></p>
    </div>
<br><hr><br>

    <div id='practica-4:-audio-amb-maxmod' class='featurette data-sr'>
        <h1>Pràctica 4: Àudio amb Maxmod</h1>
<h2>Reproducció d'àudio</h2>
<p>Aquest primer exercici és introductori. Hem de respondre un parell de preguntes, com ara indicar com incloure la biblioteca Maxmod a un codi i com generar el banc de sons.
La primera pregunta és simple, la biblioteca s'inclou com qualsevol altra biblioteca que vaja a ser emprada:</p>
<pre><code>    #include &lt;maxmod9.h&gt;
</code></pre>
<p>A més a més, caldrà afegir les capçaleres del banc de sons (que ara després indicarem com es genera):</p>
<pre><code>    #include “soundbank.h”
    #include “soundbank_bin.h”
</code></pre>
<p>Pel que fa a la generació del banc de sons, es fa al Makefile, és a dir, es genera a l'hora de compilar el projecte. Concretament, es genera amb aquesta regla del Makefile:</p>
<pre><code>    #------------------------------------------------------------
    # rule to build soundbank from music files
    #------------------------------------------------------------
    soundbank.bin : ${AUDIOFILES}
    #------------------------------------------------------------
    @mmutil $^ -d -osoundbank.bin -hsoundbank.h
</code></pre>
<h2>Reproducció de fitxers modulars per a música</h2>
<p>L'única pregunta d'aquest exercici és simple: Quina diferència hi ha al Makefile entre l'exemple anterior i l'exemple audio_modes per a que al primer els arxius d'àudio estiguen a la carpeta maxmod_data i al segon, a la carpeta audio. La resposta és encara més simple. Al principi del Makefile indiquem quins són els directoris que contenen cada element. Només cal modificar la línia següent:</p>
<pre><code>    MUSIC := maxmod_data
</code></pre>
<p>La part dreta pel nom del directori on estiguen els arxius de música.</p>
<h2>Sincronització d'esdeveniments</h2>
<p>Aquest problema ens pregunta per la funció de l'exemple song_events_example que s'encarrega de tractar els missatges enviats pels esdeveniments. La funció és la següent:</p>
<pre><code>      mm_word MyEventHandler( mm_word msg, mm_word param ) {
        switch( msg ) {

        case MMCB_SONGMESSAGE:
          if (param == 1) spriteDy = -16;
          break;

        case MMCB_SONGFINISHED:
          break;
        }

        return 0;
      }
</code></pre>
<p>Com veiem, és molt simple. Rep dos arguments, el primer és el tipus de missatge a tractar, mentre que el segon ens indica si l'sprite té que botar (ja que té que fer-ho al ritme de la música). En cas que el primer argument siga missatge de la cançó, es comprova si el segon és actiu, si ho és, es canvia la velocitat de l'sprite, si no, s'acaba. En cas de que el primer argument siga un missatge de finalització, no passa res.</p>
<p>L'últim exercici, també d'aquest apartat, ens pregunta per l'exemple song_events_example2 i com és possible que s'identifiquen cinc esdeveniments diferents. La resposta és simple, a la mateixa funció que a l'exercici anterior, en lloc de comprovar si el segon argument és 1, ací es comprova si és 1, 2, 3, 4 o 5. Amb això sabem quin sprite és el que hi ha que actualitzar. La resta, segueix el mateix esquema que l'exercici anterior.</p>
<h2>Treball autònom</h2>
<p>Com que aquest treball era la incorporació d'un efecte de bot a la pilota, i un tema de música al Bouncing Ball Game que ja s'entregà a la seua tasca corresponent, no adjuntarem el projecte.</p>
    </div>
<br><hr><br>

    </div>
</div>

<!-- Pie de página -->
        <!-- Highlighter -->
        <script>hljs.initHighlightingOnLoad();</script>
        
        <!-- Sidebar -->
        <script>
            var $sidebar   =    $("#sidebar"),
            $window    = $(window),
            offset     = $sidebar.offset(),
            topPadding = 15;

        $window.scroll(function() {
            if ($window.scrollTop() > offset.top) {
                $sidebar.addClass('fixed');
            } else {
                $sidebar.removeClass('fixed');
            }
        });
        </script>

    </body>
</html>
